<script src="/assets/springy.js"></script>
<script src="/assets/springyui.js"></script>
<script>
	var graph = new Graph();

	<% @names.each do |name| %>
		var <%= name %> = graph.newNode({ label: '<%= name %>', color: '#ff0000' });
	<% end %>


	<% @friendships.each do |person, friends| %>
		<% friends.each do |friend| %>
			graph.newEdge(<%= person %>, <%= friend %>, {color: '#aaaaff'});
		<% end %>
	<% end %>

	jQuery(function(){
		var springy = jQuery('#graph_box').springy({
			graph: graph,
			nodeSelected: function(node){
				console.log('Node selected: ' + JSON.stringify(node.data));
			}
		});
	});
</script>

<canvas id="graph_box" width="900" height="800" />
